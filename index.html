<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>WebXR Audio Experience</title>

  <link rel="stylesheet" href="styles/main.css">

  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>

  <!-- Scripts -->
  <script defer src="scripts/proximity.js"></script>
  <script defer src="scripts/audio.js"></script>
  <script defer src="scripts/start.js"></script>
  <script defer src="scripts/desktop-debug.js"></script>
</head>

<body>

<!-- START OVERLAY -->
<div id="startOverlay">
  <div id="startButtons">
    <button id="startButton">START</button>
    <button id="debugButton">DESKTOP DEBUG</button>
  </div>
</div>

<a-scene renderer="colorManagement:true" vr-mode-ui="enabled:false" ar-mode-ui="enabled:false">

  <!-- CAMERA -->
  <a-entity id="camera"
    camera
    wasd-controls="enabled:false"
    look-controls="enabled:false; pointerLockEnabled:false"
    position="0 1.6 0">
  </a-entity>

  <!-- INTRO -->
  <a-entity id="intro" sound="src:url(assets/audio/audio_intro.wav); autoplay:false; positional:false; loop:false; volume:1;"></a-entity>

  <!-- AMBIENCE -->
  <a-entity id="ambient" sound="src:url(assets/audio/audio_ambience.wav); autoplay:false; positional:false; loop:true; volume:0;"></a-entity>

  <!-- SIMPLE GRID -->
  <a-entity line="start:-5 0 0; end:5 0 0; color:#555"></a-entity>
  <a-entity line="start:0 0 -5; end:0 0 5; color:#555"></a-entity>


  <!-- =============================================================== -->
  <!--  FRONT = AUDIO 1 (tight cluster)                                -->
  <!-- =============================================================== -->

  <!-- Debug Spheres -->
  <a-sphere id="a1" radius="0.75" color="#FFD400" visible="false" position="0 1 -2"></a-sphere>
  <a-sphere id="b1" radius="0.75" color="#00FFFF" visible="false" position="0 1 -2.8"></a-sphere>
  <a-sphere id="c1" radius="0.75" color="#FF8800" visible="false" position="1 1 -2.8"></a-sphere>
  <a-sphere id="d1" radius="0.75" color="#FF8800" visible="false" position="-1 1 -2.8"></a-sphere>

  <!-- Trigger -->
  <a-entity id="frontTrigger" position="0 1 -2"
    proximity-trigger="
      soundA:#s1;
      soundB:#s1b;
      soundC:#s1c;
      soundD:#s1d;
      asphere:#a1;
      bsphere:#b1;
      csphere:#c1;
      dsphere:#d1;
      ambient:#ambient;
      distance:1.5;">
  </a-entity>

  <!-- Audio -->
  <a-entity id="s1" sound="src:url(assets/audio/audio_1.wav); positional:false"></a-entity>
  <a-entity id="s1b" sound="src:url(assets/audio/audio_1b.wav); positional:false"></a-entity>
  <a-entity id="s1c" sound="src:url(assets/audio/audio_1c.wav); positional:false"></a-entity>
  <a-entity id="s1d" sound="src:url(assets/audio/audio_1d.wav); positional:false"></a-entity>


  <!-- =============================================================== -->
  <!--  BACK = AUDIO 2 (tight cluster)                                 -->
  <!-- =============================================================== -->

  <a-sphere id="a2" radius="0.75" color="#FFD400" visible="false" position="0 1 2"></a-sphere>
  <a-sphere id="b2" radius="0.75" color="#00FFFF" visible="false" position="0 1 2.8"></a-sphere>
  <a-sphere id="c2" radius="0.75" color="#FF8800" visible="false" position="-1 1 2.8"></a-sphere>
  <a-sphere id="d2" radius="0.75" color="#FF8800" visible="false" position="1 1 2.8"></a-sphere>

  <a-entity id="backTrigger" position="0 1 2"
    proximity-trigger="
      soundA:#s2;
      soundB:#s2b;
      soundC:#s2c;
      soundD:#s2d;
      asphere:#a2;
      bsphere:#b2;
      csphere:#c2;
      dsphere:#d2;
      ambient:#ambient;
      distance:1.5;">
  </a-entity>

  <a-entity id="s2" sound="src:url(assets/audio/audio_2.wav); positional:false"></a-entity>
  <a-entity id="s2b" sound="src:url(assets/audio/audio_2b.wav); positional:false"></a-entity>
  <a-entity id="s2c" sound="src:url(assets/audio/audio_2c.wav); positional:false"></a-entity>
  <a-entity id="s2d" sound="src:url(assets/audio/audio_2d.wav); positional:false"></a-entity>


  <!-- =============================================================== -->
  <!--  RIGHT = AUDIO 3 (tight cluster)                                -->
  <!-- =============================================================== -->

  <a-sphere id="a3" radius="0.75" color="#FFD400" visible="false" position="2 1 0"></a-sphere>
  <a-sphere id="b3" radius="0.75" color="#00FFFF" visible="false" position="2.8 1 0"></a-sphere>
  <a-sphere id="c3" radius="0.75" color="#FF8800" visible="false" position="2.8 1 1"></a-sphere>
  <a-sphere id="d3" radius="0.75" color="#FF8800" visible="false" position="2.8 1 -1"></a-sphere>

  <a-entity id="rightTrigger" position="2 1 0"
    proximity-trigger="
      soundA:#s3;
      soundB:#s3b;
      soundC:#s3c;
      soundD:#s3d;
      asphere:#a3;
      bsphere:#b3;
      csphere:#c3;
      dsphere:#d3;
      ambient:#ambient;
      distance:1.5;">
  </a-entity>

  <a-entity id="s3" sound="src:url(assets/audio/audio_3.wav); positional:false"></a-entity>
  <a-entity id="s3b" sound="src:url(assets/audio/audio_3b.wav); positional:false"></a-entity>
  <a-entity id="s3c" sound="src:url(assets/audio/audio_3c.wav); positional:false"></a-entity>
  <a-entity id="s3d" sound="src:url(assets/audio/audio_3d.wav); positional:false"></a-entity>


  <!-- =============================================================== -->
  <!--  LEFT = AUDIO 4 (tight cluster)                                 -->
  <!-- =============================================================== -->

  <a-sphere id="a4" radius="0.75" color="#FFD400" visible="false" position="-2 1 0"></a-sphere>
  <a-sphere id="b4" radius="0.75" color="#00FFFF" visible="false" position="-2.8 1 0"></a-sphere>
  <a-sphere id="c4" radius="0.75" color="#FF8800" visible="false" position="-2.8 1 -1"></a-sphere>
  <a-sphere id="d4" radius="0.75" color="#FF8800" visible="false" position="-2.8 1 1"></a-sphere>

  <a-entity id="leftTrigger" position="-2 1 0"
    proximity-trigger="
      soundA:#s4;
      soundB:#s4b;
      soundC:#s4c;
      soundD:#s4d;
      asphere:#a4;
      bsphere:#b4;
      csphere:#c4;
      dsphere:#d4;
      ambient:#ambient;
      distance:1.5;">
  </a-entity>

  <a-entity id="s4" sound="src:url(assets/audio/audio_4.wav); positional:false"></a-entity>
  <a-entity id="s4b" sound="src:url(assets/audio/audio_4b.wav); positional:false"></a-entity>
  <a-entity id="s4c" sound="src:url(assets/audio/audio_4c.wav); positional:false"></a-entity>
  <a-entity id="s4d" sound="src:url(assets/audio/audio_4d.wav); positional:false"></a-entity>

</a-scene>

</body>
</html>
